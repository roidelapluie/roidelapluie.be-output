<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="generator" content="Hugo 0.25.1" />

        <title>puppetlabs-concat 2.0 - Julien Pivotto</title>
    </head>
    <body class="bg-faded">
        <div class="bg-primary"><nav class="navbar navbar-toggleable-md navbar-inverse bg-primary container">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-brand mb-0">roidelapluie</div>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <div class="navbar-nav mr-auto">
                
                
                <a class="nav-item nav-link " href="/">
                        About me
                    </a>
                
                
                
                <a class="nav-item nav-link  active" href="/blog/">
                        Blogs
                    </a>
                
                
                
                <a class="nav-item nav-link " href="/exherbo/">
                        Exherbo
                    </a>
                
                
                
                <a class="nav-item nav-link " href="/logbook/">
                        Logbooks
                    </a>
                
                
                
                <a class="nav-item nav-link " href="/skill/">
                        Skills
                    </a>
                
                
                
                <a class="nav-item nav-link " href="/talk/">
                        Talks
                    </a>
                
                
                
                <a class="nav-item nav-link " href="/wiki/">
                        Wikis
                    </a>
                
                
            </div>
            <div class="navbar-nav">
                
                
                    
                    
                    <a class="nav-item nav-link  active" href="/en">
                        en
                    </a>
                
                
                    
                    
                    <a class="nav-item nav-link " href="/fr">
                        fr
                    </a>
                
            </div>
        </div>
</nav>
</div>

        <div style="background-color:white">
        <div class="container pt-3 pb-3">

<h1 class="title mt-3 mb-3"><a href="/blog/2016/02/05/puppetlabs-concat/" class="text-gray-dark">
    puppetlabs-concat 2.0
</a></h1>
<div class="content text-justify">
    <p>If you are a Puppet user, you know that you have multiple choices regarding the
way you manage your files. You might decide to manage the whole file or parts
of it. I presented that as part of my <a href="http://www.slideshare.net/roidelapluie/augeas-swiss-knife-resources-for-your-puppet-tree">augeas</a> talk at PuppetCamp London
in 2014.</p>

<p>One of the solutions out there is <a href="https://github.com/puppetlabs/puppetlabs-concat">concat</a>. Concats allows you to define
parts of a file as different resources, then glue them together to create a
single file.</p>

<p>In the past, the Puppetlabs concat module was made out of defined types, such as
it seemed very fragile or unreliable. It created temporary files, required a
setup class, and other stuff that could have been done internally in a custom
type/provider.</p>

<p>On the other hand, some people decided to actually write concat as a provider.
They created the Puppet module <a href="https://github.com/theforeman/puppet-concat_native">theforeman-concat_native</a>, which was a
really nice solution to the concat problems. From the catalog you only see the
concat resources, and not all the temporary files, directories and exec that
were needed by the Puppetlabs concat modules.</p>

<p>What I want to tell you today is that the Foreman module, which was really
great, is now deprecated because its changes are available in the
Puppetlabs module itself (in the 2.x releases). And it is almost compatible with
the old one, as it provides backwards-compatible defines.</p>

<p>What it will change for you:</p>

<ul>
<li>Smaller catalogs, with less hacks</li>
<li>No more duplicate concat and concat_modules in your puppet trees</li>
<li>Faster and easier concats</li>
<li>The only change needed: depend on Concat resources and not on File resource (<a href="https://github.com/puppetlabs/puppetlabs-apache/commit/e96a933bef3d6bdeadd78ceb2185fe6a5b3b30d5">like this</a>)</li>
</ul>

</div>
<div class="message mb-3">
    <div class="bg-faded p-3 text-center">
        <a href="/blog/2016/02/05/puppetlabs-concat/">Permalink</a>. Category: Automation. Tags: automation planet-inuits puppet.<br/>
        First published on Fri 5 February 2016.
    </div>
</div>

        </div>
        </div>
        <footer class="pt-2">
            <div class="text-center p-5">
                <p>Content written by Julien Pivotto, licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a>.
</p>
                <p>Proudly generated by <a href="http://gohugo.io/">Hugo 0.25.1</a>, using <a href="http://getbootstrap.com/">Bootstrap</a> and <a href="http://pygments.org/">Pygments</a>.
</p>
                <p>This page has been generated on 2017-07-24.
</p>
            </div>
        </footer>
        <link rel="stylesheet" href="/css/bootstrap.min.css">
        <script type="text/javascript" src="/js/jquery.min.js"></script>
        <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    </body>
</html>

